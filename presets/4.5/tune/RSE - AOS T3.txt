#$ TITLE: RSE - TUNE - AOS T3
#$ FIRMWARE_VERSION: 4.5
#$ CATEGORY: TUNE
#$ STATUS: COMMUNITY
#$ KEYWORDS: RSE, hyperion
#$ AUTHOR: hyperion

#$ PARSER: MARKED

#$ DESCRIPTION:
#$ DESCRIPTION: <img src="https://user-images.githubusercontent.com/19867640/174759844-ffd85f42-1f1c-42bf-9032-d9f96d4d9619.svg" width="90px" style="display: block; float: left; margin-right: 10px; margin-top: 20px"/>
#$ DESCRIPTION: <h1>AOS T3 settings for BF 4.5</h1>
#$ DESCRIPTION: <br>
#$ DESCRIPTION:
#$ DESCRIPTION: These are the craft-specific settings for the AOS T3 running Betaflight 4.5
#$ DESCRIPTION:
#$ DESCRIPTION: <br>
#$ DESCRIPTION:

#$ DISCUSSION: none


### Drone Specific
set craft_name = AOS T3
set pilot_name = CH

# resources

# timer

# dma

# feature
feature TELEMETRY
feature OSD

# serial
serial 1 131073 115200 57600 0 115200		# Avatar OSD on UART2 w/MSP
serial 3 64 115200 57600 0 115200		# RX on UART4

# PID loop

# motors
set motor_poles = 12				# FPVCycle 13mm 6350kV
set yaw_motors_reversed = ON			# Props out!
set dshot_idle_value = 550			# Static motor idle of 5.5% of max throttle
set dyn_idle_min_rpm = 50			# Dynamic Idle of 5000RPM
set dshot_bidir = ON
set motor_pwm_protocol = DSHOT600

# power system
set vbat_max_cell_voltage = 440
set vbat_min_cell_voltage = 320
set bat_capacity = 450
set report_cell_voltage = ON

# sensors and I/O
set small_angle = 180
set acc_calibration = -22,1,-9,1

# ELRS

# GPS

# camera
set fpv_mix_degrees = 30			# FPV camera angle

# logging
set blackbox_device = SPIFLASH		# Use onboard storage (SPIFLASH)
set debug_mode = GYRO_SCALED
set blackbox_mode = NORMAL


### Base settings
#$ INCLUDE: presets/4.5/other/rse_base.txt

# Link Specific
set rssi_channel = 15				# ELRS has LQ on 15 and dB on 16, CRSF on 12
rxfail 15 s 1000				# Set RSSI/LQ to zero


### RC Link
# Use ExpressLRS 250Hz preset with HD Freestyle, Serial RX, and singe cell voltage


### Tune
# Use UAV Tech Toothpick

# master
set rc_smoothing_auto_factor = 140
set rc_smoothing_setpoint_cutoff = 25
set rc_smoothing_feedforward_cutoff = 25


### Profiles
# Use FPVCycle Toothpick 3s | mouseFPV

profile 0

# profile 0
set feedforward_averaging = 2_POINT
set feedforward_smooth_factor = 45
set feedforward_jitter_factor = 10
set dyn_idle_min_rpm = 50

# restore original profile selection
profile 0


### OSD
#$ INCLUDE: presets/4.5/other/osd_base.txt
#$ INCLUDE: presets/4.5/other/avatar.txt


### Rateprofiles
#$ INCLUDE: presets/4.5/other/rateprofiles.txt
